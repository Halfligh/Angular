<div class="todo-container">
  <h2>{{ title }}</h2>
  <form (ngSubmit)="addTask()">
    <input
      type="text"
      placeholder="Ajouter une nouvelle tâche"
      [(ngModel)]="newTask"
      name="task"
      required
      class="todo-input"
    />
    <button type="submit" class="add-button">Ajouter</button>
  </form>

  <ul class="todo-list">
    <li
      *ngFor="let task of tasks; let i = index"
      [ngClass]="{ completed: task.completed }"
    >
      <input
        type="checkbox"
        [(ngModel)]="task.completed"
        (change)="toggleTaskStatus(task)"
      />
      <!-- Afficher l'icône si la tâche a été ajoutée par un administrateur -->
      <img
        *ngIf="task.addByAdmin"
        src="assets/images/admin-icon.png"
        alt="admin icon"
        class="admin-icon"
      />
      <span>{{ task.text }}</span>
      <button (click)="deleteTask(i, task.id)" class="delete-button">
        Supprimer
      </button>
    </li>
  </ul>
</div>
